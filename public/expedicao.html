<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Expedição - Grupo ST Comunicaçao Integrada</title>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  
  <style>
    :root {
      --cor-fundo: #2c3e50;
      --cor-card: #34495e;
      --cor-borda: #46607a;
      --cor-texto: #ecf0f1;
      --cor-destaque: #3498db;
      --cor-sucesso: #2ecc71;
      --cor-aviso: #f1c40f;
      --cor-perigo: #e74c4c;
    }
    body {
      background-color: var(--cor-fundo);
      color: var(--cor-texto);
    }
    .card {
      background-color: var(--cor-card);
      border: 1px solid var(--cor-borda);
    }
    .card-title, .form-label, .table-dark thead th {
      color: var(--cor-texto) !important;
    }
    .form-control, .form-select {
      background-color: var(--cor-card);
      border: 1px solid var(--cor-borda);
      color: var(--cor-texto);
    }
    .form-control::placeholder {
      color: #bdc3c7;
    }
    .table-dark thead th {
      background-color: var(--cor-card);
      border-color: var(--cor-borda);
    }
    .table-dark tbody tr {
      border-color: var(--cor-borda);
    }
    .nav-tabs .nav-link {
      color: var(--cor-texto);
      border: 1px solid transparent;
      border-bottom: 1px solid var(--cor-borda);
      background-color: var(--cor-fundo);
    }
    .nav-tabs .nav-link.active {
      background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);
      color: var(--cor-destaque);
      border-color: var(--cor-borda);
      border-bottom-color: transparent;
    }
    .btn-primary {
      background-color: var(--cor-destaque);
      border-color: var(--cor-destaque);
    }
    .btn-primary:hover {
      background-color: #2980b9;
      border-color: #2980b9;
    }
    .concluida {
      text-decoration: line-through;
      color: #95a5a6 !important;
    }
    .badge-prioridade-baixa { background-color: var(--cor-sucesso); }
    .badge-prioridade-media { background-color: var(--cor-aviso); color: #000; }
    .badge-prioridade-alta { background-color: var(--cor-perigo); }
    .navbar {
      background-color: var(--cor-card);
      border-bottom: 1px solid var(--cor-borda);
    }
    .navbar-brand {
      color: var(--cor-texto) !important;
    }
    .btn-outline-secondary {
      color: var(--cor-texto);
      border-color: var(--cor-borda);
    }
    .btn-outline-danger {
      color: var(--cor-perigo);
      border-color: var(--cor-perigo);
    }
    .btn-outline-success {
      color: var(--cor-sucesso);
      border-color: var(--cor-sucesso);
    }
    #userIdDisplay {
        font-size: 0.8rem;
        color: #7f8c8d;
        word-break: break-all;
    }
    .text-center-btn {
        display: flex;
        justify-content: center;
        margin-top: 2rem;
        margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  
  <div class="container mt-4">
    <div class="card p-4">
      <div class="d-flex justify-content-center align-items-center mb-4">
        <img src="/images/image_64f7fe.png" alt="Logo da Empresa" style="max-height: 120px;">
      </div>
      <h1 class="card-title text-center p-3">Expedição - Grupo ST Comunicaçao Integrada</h1>
      <div class="text-end mb-3">
        <button onclick="logout()" class="btn btn-outline-danger btn-sm">Sair</button>
      </div>

      <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
            <a class="nav-link active" id="objetivos-tab" data-bs-toggle="tab" href="#objetivos" role="tab" aria-controls="objetivos" aria-selected="true">Objetivos</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="liberacoes-tab" data-bs-toggle="tab" href="#liberacoes" role="tab" aria-controls="liberacoes" aria-selected="false">Liberações de O.S</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="requisicoes-tab" data-bs-toggle="tab" href="#requisicoes" role="tab" aria-controls="requisicoes" aria-selected="false">Requisições de Materiais</a>
        </li>
      </ul>

      <div class="tab-content mt-3" id="myTabContent">
        <div class="tab-pane fade show active" id="objetivos" role="tabpanel" aria-labelledby="objetivos-tab">
            <h5 class="text-white">Prioridades e Objetivos</h5>
            <div class="table-responsive">
                <table class="table table-dark table-striped">
                    <thead>
                        <tr>
                            <th>Tipo</th>
                            <th>Detalhes</th>
                            <th>Data</th>
                        </tr>
                    </thead>
                    <tbody id="prioridadeTableBody">
                    </tbody>
                </table>
            </div>
        </div>
        <div class="tab-pane fade" id="liberacoes" role="tabpanel" aria-labelledby="liberacoes-tab">
            <h5 class="text-white">Conteúdo do Módulo de Liberações de O.S. (Expedição)</h5>
            <p>Gerenciamento e liberação de ordens de serviço.</p>
        </div>
        <div class="tab-pane fade" id="requisicoes" role="tabpanel" aria-labelledby="requisicoes-tab">
            <h5 class="text-white">Conteúdo do Módulo de Requisições de Materiais (Expedição)</h5>
            <p>Área para solicitar materiais ao almoxarifado.</p>
        </div>
      </div>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, signInWithCustomToken, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, collection, onSnapshot, query, where, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
    
    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
    const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
    const auth = getAuth(initializeApp(firebaseConfig));
    const db = getFirestore(auth.app);
    let userId;

    document.addEventListener('DOMContentLoaded', async () => {
        const userRole = sessionStorage.getItem('userRole');
        if (!userRole || userRole !== 'expedicao123') {
            window.location.href = 'login.html';
            return;
        }

        if (typeof __initial_auth_token !== 'undefined') {
            await signInWithCustomToken(auth, __initial_auth_token);
        } else {
            await signInAnonymously(auth);
        }
        
        userId = auth.currentUser?.uid || crypto.randomUUID();

        const prioridadeTableBody = document.getElementById('prioridadeTableBody');
        const prioridadesRef = collection(db, `artifacts/${appId}/public/data/prioridades`);
        
        onSnapshot(prioridadesRef, (snapshot) => {
            prioridadeTableBody.innerHTML = '';
            snapshot.forEach((doc) => {
                const data = doc.data();
                const row = document.createElement('tr');
                let detailsHtml = '';

                if (data.tipo === 'os') {
                    detailsHtml = `
                        <strong>O.S.:</strong> ${data.numeroOS}<br>
                        <strong>Cliente:</strong> ${data.nomeCliente}
                    `;
                } else if (data.tipo === 'producao') {
                    detailsHtml = `
                        <strong>Setores:</strong> ${data.setoresEnvolvidos}<br>
                        <strong>Pedidos:</strong> ${data.pedidosPrioridade}
                    `;
                }

                row.innerHTML = `
                    <td>${data.tipo === 'os' ? 'Prioridade O.S.' : 'Prioridade Produção'}</td>
                    <td>${detailsHtml}</td>
                    <td>${data.timestamp.toDate().toLocaleString('pt-BR')}</td>
                `;
                prioridadeTableBody.prepend(row);
            });
        });
    });

    function logout() {
        sessionStorage.removeItem('userRole');
        window.location.href = 'login.html';
    }
  </script>
</body>
</html>
```
eof

---

### Comandos Git para a Atualização Final

1.  **Adicione todas as alterações:**
    ```bash
    git add .
    ```

2.  **Salve as mudanças com a mensagem:**
    ```bash
    git commit -m "feat: Adicionado banco de dados e funcionalidade de Objetivos em tempo real."
    ```

3.  **Envie as alterações para o GitHub:**
    ```bash
    git push
    
